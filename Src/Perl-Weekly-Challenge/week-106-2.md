# Perl Weekly Challenge 106: Decimal String

## [Challenge](https://perlweeklychallenge.org/blog/perl-weekly-challenge-106/#TASK2)

> You are given numerator and denominator i.e. `$N` and `$D`.
> 
> Write a script to convert the fraction into decimal string.
> If the fractional part is recurring then put it in parenthesis.

### Examples
~~~~
Input: $N = 1, $D = 3
Output: "0.(3)"

Input: $N = 1, $D = 2
Output: "0.5"

Input: $N = 5, $D = 66
Output: "0.0(75)"
~~~~

## Discussion
It is very tempting to just divide the given numbers, use
`sprintf` to get lots of digits, and then search a pattern
which repeats.

But in most languages, this is not going to work, due to 
floating point arithmetic not being precise enough. It goes
wrong with surprisingly low numbers.

For instance, \\(\frac{1}{23} = 0.\overline{0434782608695652173913}\\),
but (in Perl), `printf "%.40f" => 1/23` gives
`0.0434782608695652173907151075149535301989`. This disagrees
with the real result shortly after the 20th digit, and we don't
even get the repeating part correctly in its first occurance.

Instead, we have to perform long division by hand. First, we
calculate \\(I = \lfloor \frac{N}{D} \rfloor\\) and set \\(N = N \bmod D\\).
\\(I\\) is going to be the integer part (the part before the
[decimal separator](https://en.wikipedia.org/wiki/Decimal_separator))
of our solution.

Now, in a loop, we calculate the digits after the decimal separator.
As an invariant, we have \\(N < D\\).

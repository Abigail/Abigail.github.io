<html>
<head>
<title>Perl Weekly Challenge 106: Maximum Gap</title>
<script src = "https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id = "MathJax-script" async src = "https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.js"></script>
<link rel = 'stylesheet' href = '../../Styles/Perl-Weekly-Challenge/main.css'>
<link rel = 'stylesheet' href = 'https://fonts.googleapis.com/css?family=Lobster+Two'>
<link rel = 'stylesheet' href = 'https://fonts.googleapis.com/css?family=Source+Code Pro&display=swap'>
</head>

<body><h1>Perl Weekly Challenge 106: Maximum Gap</h1>

<h2><a href="https://perlweeklychallenge.org/blog/perl-weekly-challenge-106/#TASK1">Challenge</a></h2>

<blockquote>
  <p>You are given an array of integers <code>@N</code>.</p>
  
  <p>Write a script to display the maximum difference between two
  successive elements once the array is sorted.</p>
  
  <p>If the array contains only 1 element then display <code>0</code>.</p>
</blockquote>

<h3>Examples</h3>

<pre><code>Input: @N = (2, 9, 3, 5)
Output: 4

Input: @N = (1, 3, 8, 2, 0)
Output: 5

Input: @N = (5)
Output: 0
</code></pre>

<h2>Solution</h2>

<h3>Overview</h3>

<div class = "section">
<p>The solution is pretty straight forward. After reading in the numbers,
we have to sort the list of number. Then we iterate over the
numbers, calculate the difference between the number and the
previous number, and keeping track of the maximum.</p>

<p>We will be reading input from standard input, where each line
contains a set of numbers, separated by white space. Each line
is seen as a different challenge.</p></div>

<h3>Perl</h3>

<div class = "section">
<p>We are iterating line by line over the input (<code>&lt;&gt;</code>), and splitting
each line on whitespace (<a href="https://perldoc.perl.org/perlfunc#split"><code>split</code></a>). The resulting list is numerically
<a href="https://perldoc.perl.org/perlfunc#sort"><code>sort</code></a>ed, and stored in an array (<code>@N</code>).</p>

<p>We're then finding all the differences between a number and
the preceeding number using <code>map</code>, starting from the second 
number in the array. We use the <code>max</code> function from the
module <a href="https://metacpan.org/pod/List::Util"><code>List::Util</code></a> to get the maximum. If the input has just
one number, the list of differences is empty; it that case,
<code>max</code> returns <code>undef</code>. Hence the <code>// 0</code>, which means that
in that case, we print <code>0</code>.</p>

<pre><code>use List::Util qw [max];
while (&lt;&gt;) {
    my @N = sort {$a &lt;=&gt; $b} split;

    say max (map {$N [$_] - $N [$_ - 1]} 1 .. $#N) // 0;
}
</code></pre>

<p>Find the <a href="https://github.com/Abigail/perlweeklychallenge-club/blob/master/challenge-106/abigail/perl/ch-1.pl">full program</a> on <a href="https://github.com">GitHub</a>.</p></div>

<h3>GNU AWK</h3>

<div class = "section">
<p>For our AWK solution, we turn to GNU AWK, the GNU implemenation of AWK.
This implementation has the method <a href="https://www.gnu.org/software/gawk/manual/gawk.html#String-Functions"><code>asort</code></a>, which
takes an array, and sorts it.</p>

<p>In AWK, the input is by default already split on whitespace, and
available in the variables <code>$1</code>, <code>$2</code>, <code>$3</code>, .... The variable
<a href="https://www.gnu.org/software/gawk/manual/gawk.html#index-NF-variable"><code>NF</code></a> contains the number of fields the input
has been split into. We can then iterate over the fields, and
populate an array <code>N</code>.</p>

<p>Finding the maximum of the differences is done by iterating over
the array.</p>

<pre><code>{   
    #
    # We don't have lexical variables, so we need to clear
    # the array N in each iteration.
    #
    delete N

    #
    # Read in the data, and populate N
    #
    for (i = 1; i &lt;= NF; i ++) {
        N [i] = $i
    }

    #
    # Sort the array; for numeric values, this sorts numerically.
    #
    asort(N)

    #
    # Find the maximum of the differences. For a single element
    # array, the maximum will be 0.
    #
    max = 0
    for (i = 2; i &lt;= NF; i ++) {
        if (N [i] - N [i - 1] &gt; max) {
            max = N [i] - N [i - 1]
        }
    }

    #
    # Print the result.
    #
    print max
}
</code></pre>

<p>Find the <a href="https://github.com/Abigail/perlweeklychallenge-club/blob/master/challenge-106/abigail/awk/ch-1.gawk">full program</a> on <a href="https://github.com">GitHub</a>.</p></div>
</body>
</html>
